<!doctype html>
<html><head><meta charset="utf-8"><title>Predict WAV</title></head>
<body>
  <h3>Dự đoán từ WAV</h3>
  <input id="file" type="file" accept="audio/wav"><button id="predictBtn">Dự đoán</button>
  <div id="status"></div><div id="result"></div>
  <script>
    document.getElementById("predictBtn").onclick = async () => {
      const f = document.getElementById("file").files[0];
      if(!f){ alert("Chọn file WAV trước"); return; }
      document.getElementById("status").textContent="Đang dự đoán...";
      const fd=new FormData(); fd.append("audio",f,f.name);
      const res=await fetch("/predict",{method:"POST",body:fd}); const j=await res.json();
      document.getElementById("status").textContent=res.ok?"Xong":"Lỗi";
      document.getElementById("result").textContent=res.ok?`Kết quả: ${j.label} | ${(j.confidence*100).toFixed(1)}%`:JSON.stringify(j);
    };
  </script>
</body></html>